# Configuration for the full Xenium Breast Cancer Replicate 1 dataset
# Matches the datasource used in the BIDCell paper.

cpus: 8 # adjusted for typical desktop use, increase if you have many cores

files:
  # User must download "Xenium Output Bundle In Situ Replicate 1" from 10x Genomics
  # and place it in the directory below:
  data_dir: ./data_large/dataset_xenium_breast1 
  
  # Standard filenames in the 10x bundle:
  fp_dapi: ./data_large/dataset_xenium_breast1/morphology_mip.ome.tif
  fp_transcripts: ./data_large/dataset_xenium_breast1/transcripts.csv.gz
  
  # References (included in repo)
  fp_ref: ./example_data/sc_references/sc_breast.csv
  fp_pos_markers: ./example_data/sc_references/sc_breast_markers_pos.csv
  fp_neg_markers: ./example_data/sc_references/sc_breast_markers_neg.csv

nuclei_fovs:
  stitch_nuclei_fovs: False

nuclei:
  diameter: # None = auto

transcripts:
  shift_to_origin: False # Full dataset usually doesn't need this if coordinates are absolute
  x_col: x_location
  y_col: y_location
  gene_col: feature_name
  transcripts_to_filter:
  - NegControlProbe_
  - antisense_
  - NegControlCodeword_
  - BLANK_
  - Blank-
  - NegPrb

affine:
  target_pix_um: 1.0
  base_pix_x: 0.2125
  base_pix_y: 0.2125
  base_ts_x: 1.0
  base_ts_y: 1.0
  global_shift_x: 0
  global_shift_y: 0

model_params:
  name: custom
  patch_size: 48
  elongated:
  - Endothelial
  - Fibroblasts
  - Myofibroblasts
  - SMC

training_params:
  total_epochs: 1
  total_steps: 4000
  ne_weight: 1.0
  os_weight: 1.0
  cc_weight: 1.0
  ov_weight: 1.0
  pos_weight: 1.0
  neg_weight: 1.0

testing_params:
  test_epoch: 1
  test_step: 4000

experiment_dirs:
  dir_id: last
